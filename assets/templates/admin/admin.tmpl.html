<md-content layout id="user-table" ng-controller="AdminController as vm">
	<div layout="column" id="user-manager">
		<div>
			<h3 class="md-header">Users</h3>
			<p class="md-body-1">Use this interface to manage users.</p>
			<md-input-container>
				<label>Search</label>
				<input type="text">
			</md-input-container>
		</div>
		<table class="md-whiteframe-2dp">
			<tr>
				<th class="md-checkbox-container">
					<md-checkbox aria-label="checkbox"></md-checkbox>
				</th>
				<th class="md-body-1">Name</th>
				<th class="md-body-1">Email Address</th>
				<th class="md-body-1">Last Login</th>
				<th class="md-body-1">Role</th>
				<th class="md-body-1">Account Status</th>
			</tr>
			<tr ng-model="vm.users" ng-repeat="user in vm.users | orderBy: 'lastname' track by $index">
				<td class="md-checkbox-container">
					<md-checkbox aria-label="checkbox"></md-checkbox>
				</td>
				<td class="md-body-1" ng-show="!user.isEditing">{{user.lastname}}, {{user.firstname}}</td>
				<td class="md-body-1" ng-show="!user.isEditing">{{user.email}}</td>
				<td class="md-body-1" ng-show="!user.isEditing">{{user.lastLogin | date:'MMM dd, yyyy h:mm a'}}</td>
				<td class="md-body-1">
					<md-menu>
						<p class="md-body-1 margin-none" ng-click="$mdOpenMenu()">{{user.role}}
							<md-icon md-menu-align-target md-svg-icon="/images/icons/menu-down.svg"></md-icon>
						</p>
						<md-menu-content>
							<md-menu-item ng-if="user.role != 'System Admin'">
								<md-button class="button-lower" ng-click="updateRole(user, 'System Admin')">System Admin</md-button>
							</md-menu-item>
							<md-menu-item ng-if="user.role != 'Admin'">
								<md-button class="button-lower" ng-click="updateRole(user, 'Admin')">Admin</md-button>
							</md-menu-item>
							<md-menu-item ng-if="user.role != 'Editor'">
								<md-button class="button-lower" ng-click="updateRole(user, 'Editor')">Editor</md-button>
							</md-menu-item>
							<md-menu-item ng-if="user.role != 'Author'">
								<md-button class="button-lower" ng-click="updateRole(user, 'Author')">Author</md-button>
							</md-menu-item>
							<md-menu-item ng-if="user.role != 'Moderator'">
								<md-button class="button-lower" ng-click="updateRole(user, 'Moderator')">Moderator</md-button>
							</md-menu-item>
							<md-menu-item ng-if="user.role != 'Member'">
								<md-button class="button-lower" ng-click="updateRole(user, 'Member')">Member</md-button>
							</md-menu-item>
						</md-menu-content>
					</md-menu>
				</td>
				<td>
					<div>
						<md-button class="button-lower md-warn" ng-click="vm.disableAccount(user, 'user-manager')" ng-show="user.accountIsActive" ng-if="!updateInProgress">Enabled</md-button>
						<md-button class="button-lower md-warn" ng-click="vm.enabledAccount(user, 'user-manager')" ng-hide="user.accountIsActive" ng-if="!updateInProgress">Disabled</md-button>
						<md-progress-circular md-mode="indeterminate" ng-show="updateInProgress"></md-progress-circular>
					</div>
				</td>
			</tr>
		</table>
	</div>
	<span flex></span>
</md-content>